(this["webpackJsonpdp-tt"]=this["webpackJsonpdp-tt"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),l=(a(88),a(89),a(12)),i=a(10),s=a(139),d=a(166),u=Object(s.a)((function(e){return Object(d.a)({root:{flexGrow:1},menuButton:{},menuButtonSelected:{background:"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)",border:0,color:"white",boxShadow:"0 3px 5px 2px rgba(255, 105, 135, .3)"},title:{flexGrow:1},formControl:{margin:e.spacing(1),minWidth:120},select:{color:"inherit"},menuItem:{selectedTextColor:"white"},inputDiv:{"& > *":{margin:e.spacing(1)}},inputInvisible:{display:"none"},bgGreyHead:{background:"#cccccc"}})})),v="\\color{#ff0000}",p="\\color{#000000}",m=a(159),f=a(160),y=a(161),E=a(101),h=a(165),b=a(145),g=a(154),T=a(162),k=a(155),x=(a(45),a(142)),N=function(e){return{tokenType:e}},C=function(e){var t=e.expression,a=e.setExpression,n=function(e){a([].concat(Object(l.a)(t),[e]))};return r.a.createElement("div",null,r.a.createElement(x.a,{color:"primary","aria-label":"outlined primary button group"},r.a.createElement(E.a,{style:{width:"110px"},onClick:function(e){n(N(!0))}},"TRUE"),r.a.createElement(E.a,{style:{width:"110px"},onClick:function(e){n(N(!1))}},"FALSE"),r.a.createElement(E.a,{style:{width:"110px"},onClick:function(e){n(N("succ"))}},"SUCC"),r.a.createElement(E.a,{style:{width:"110px"},onClick:function(e){n(N("pred"))}},"PRED")),r.a.createElement("br",null),r.a.createElement(x.a,{color:"primary","aria-label":"outlined primary button group"},r.a.createElement(E.a,{style:{width:"110px"},onClick:function(e){n(N("if"))}},"IF"),r.a.createElement(E.a,{style:{width:"110px"},onClick:function(e){n(N("then"))}},"THEN"),r.a.createElement(E.a,{style:{width:"110px"},onClick:function(e){n(N("else"))}},"ELSE"),r.a.createElement(E.a,{style:{width:"110px"},onClick:function(e){n(N("iszero"))}},"ISZERO")),r.a.createElement("br",null),r.a.createElement(x.a,{color:"primary","aria-label":"outlined primary button group"},r.a.createElement(E.a,{style:{width:"110px"},onClick:function(e){n(N(0))}},"0"),r.a.createElement(E.a,{style:{width:"110px"},onClick:function(e){n(N("("))}},"("),r.a.createElement(E.a,{style:{width:"110px"},onClick:function(e){n(N(")"))}},")"),r.a.createElement(E.a,{disabled:!0,style:{width:"110px"}},"")),r.a.createElement("br",null),r.a.createElement(x.a,{color:"primary","aria-label":"outlined primary button group"},r.a.createElement(E.a,{style:{width:"110px"},onClick:function(e){n(N("Nat"))}},":Nat"),r.a.createElement(E.a,{style:{width:"110px"},onClick:function(e){n(N("Bool"))}},":Bool"),r.a.createElement(E.a,{disabled:!0,style:{width:"110px"}},""),r.a.createElement(E.a,{disabled:!0,style:{width:"110px"}},"")))},O=a(15),j=a(144),S=a(102),B=function(e){return{type:e}},w=function(e,t){return e&&e.length>0&&void 0!==e[0]?e.map((function(e){return e.type})).join(" \\to "):(t("Expression error"),"ERROR")},L=function(e,t){return{str:e,type:t}},I=a(55),H=a.n(I),F=H.a.mark(z),A=function(e){for(var t=0,a=0;a<e.length;a++)"("===e[a].tokenType?t++:")"===e[a].tokenType&&t--;return t},R=function(e,t){for(var a=0,n=0;n<e.length;n++)if(e[n].tokenType===t.tokenType&&a++,2===a)return n;return-1};function z(){var e;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=97;case 1:if(!(e<123)){t.next=7;break}return 102===e&&(e+=1),t.next=5,String.fromCharCode(e++);case 5:t.next=1;break;case 7:case"end":return t.stop()}}),F)}var G=function(e,t,a,n,r){if(0!==e.length)if(A(e)<0)a("Brackets mismatch (#001.2)");else switch(e[0].tokenType){case!0:return D(e,[t],r,a);case!1:return W(e,[t],r,a);case"pred":return U(e,t,a,r);case"succ":return P(e,t,a,r);case"iszero":return M(e,t,a,r);case 0:return V(e,[t],r,a);case"if":return Z(e,t,a,n,r);case"(":return J(e,t,a,r);default:return void a("Undefined error (#001.3)")}else a("Expression error (#001.1)")},M=function(e,t,a,n){if(e.length<2)return a("IS-ZERO argument error (#005)"),L(" ",[]);var r=G(e.slice(1),B("Nat"),a,!1,n);return"Bool"===t.type?L("\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(K(e,n)," : ").concat(w([t],a),"} (T-iszero)"),[t]):L(v+"\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(K(e,n)," : ").concat(w([t],a),"} (T-iszero)")+p,[t])},V=function(e,t,a,n){return 1===t.length&&"Nat"===t[0].type||0===t.length?L("\\dfrac{}{".concat(K(e,a)," : ").concat(w([B("Nat")],n),"} (T-zero)"),[B("Nat")]):L(v+"\\dfrac{}{".concat(K(e,a)," : ").concat(w([B("Nat")],n),"} (T-zero)")+p,[B("Nat")])},D=function(e,t,a,n){return 1===t.length&&"Bool"===t[0].type?L("\\dfrac{}{ ".concat(K(e,a)," : ").concat(w(t,n),"} (T-true)"),[B("Bool")]):0===t.length?L("\\dfrac{}{ ".concat(K(e,a)," :Bool} (T-true)"),[B("Bool")]):L(v+"\\dfrac{} ".concat(K(e,a)," : ").concat(w(t,n),"} (T-true)")+p,[B("Bool")])},W=function(e,t,a,n){return 1===t.length&&"Bool"===t[0].type?L("\\dfrac{}{".concat(K(e,a)," : ").concat(w(t,n),"} (T-false)"),[B("Bool")]):0===t.length?L("\\dfrac{}{".concat(K(e,a)," :Bool} (T-false)"),[B("Bool")]):L(v+"\\dfrac{}{".concat(K(e,a)," : ").concat(w(t,n),"} (T-false)")+p,[B("Bool")])},P=function(e,t,a,n){if(e.length<2)return a("SUCC argument error (#006)"),L(" ",[]);var r=G(e.slice(1),t,a,!1,n);return"Nat"===t.type||1===(null===r||void 0===r?void 0:r.type.length)&&"Nat"===(null===r||void 0===r?void 0:r.type[0].type)?L("\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(K(e,n)," : ").concat(w([t],a),"} (T-succ)"),[t]):L(v+"\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(K(e,n)," : ").concat(w([t],a),"} (T-succ)")+p,r?r.type:[])},U=function(e,t,a,n){if(e.length<2)return a("PRED argument error (#007)"),L(" ",[]);var r=G(e.slice(1),t,a,!1,n);return"Nat"===t.type||1===(null===r||void 0===r?void 0:r.type.length)&&"Nat"===(null===r||void 0===r?void 0:r.type[0].type)?L("\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(K(e,n)," : ").concat(w([t],a),"} (T-pred)"),[t]):L(v+"\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(K(e,n)," : ").concat(w([t],a),"} (T-pred)")+p,r?r.type:[])},Z=function(e,t,a,n,r){var o,c,l=[],i=[],s=[],d=0,u=void 0,m=void 0,f=void 0;if(0===e.length)return a("IF-THEN-ELSE syntax error (#008.1)"),L(" ",[]);var y="if"!==e[0].tokenType||!n||"Nat"!==t.type,E="if"===e[0].tokenType?e.slice(1):e.slice(0);for(d=0;d<E.length;d++)if("then"!==E[d].tokenType&&"if"!==E[d].tokenType){if(l.push(E[d]),d===E.length-1)return a("IF-THEN-ELSE syntax error. Expression has one or more errors. One of them - THEN clause is missing (#008.2)"),L(" ",[])}else{if("then"===E[d].tokenType){if(d===E.length-1)return a("IF-THEN-ELSE syntax error. Expression has one or more errors. One of them - THEN clause is missing (#008.3)"),L(" ",[]);E.shift();break}if("if"===E[d].tokenType){var h=E.slice(d,E.length),b=R(h,N("then"));E=h.slice(b+1,h.length);var g=l.concat(h.slice(0,b));u=G(g,B("Bool"),a,!0,r),d=0;break}}for(o=d;o<E.length;o++)if("else"!==E[o].tokenType&&"if"!==E[o].tokenType){if(i.push(E[o]),o===E.length-1)return a("IF-THEN-ELSE syntax error. Expression has one or more errors. One of them - ELSE clause is missing (#008.4)"),L(" ",[])}else{if("else"===E[o].tokenType){if(o===E.length-1)return a("IF-THEN-ELSE syntax error. Expression has one or more errors. One of them - ELSE clause is missing (#008.5)"),L(" ",[]);E.shift();break}if("if"===E[o].tokenType){var T=E.slice(o,E.length),k=R(T,N("else"));E=T.slice(k+1,T.length);var x=i.concat(T.slice(o-1,k));m=G(x,t,a,!0,r),o=0;break}}for(c=o;c<E.length;c++)if("Nat"===E[c].tokenType&&"Bool"===E[c].tokenType||"if"===E[c].tokenType){if("if"===E[c].tokenType){var C=E.slice(c,E.length),O=R(C,N("Nat"));-1===O&&(O=R(C,N("Bool"))),E=C.slice(O+1,C.length);var j=s.concat(C.slice(c-1,C.length));f=G(j,t,a,!0,r),c=0;break}}else s.push(E[c]);var S=void 0===u?G(l,B("Bool"),a,!1,r):u,I=void 0===m?G(i,t,a,!1,r):m,H=void 0===f?G(s,t,a,!1,r):f;return(null===I||void 0===I?void 0:I.type[0].type)!==(null===H||void 0===H?void 0:H.type[0].type)?(a("IF-THEN-ELSE syntax error. Expression has one or more errors. One of them - THEN and ELSE branches don't have the same type (#008.6)"),L(" ",[])):L(n?y?"\\dfrac{".concat(null===S||void 0===S?void 0:S.str," \\enspace ").concat(null===I||void 0===I?void 0:I.str," \\enspace ").concat(null===H||void 0===H?void 0:H.str,"}{").concat(K(e,r)," : ").concat(w(I?null===I||void 0===I?void 0:I.type:[],a),"} (T-if)"):v+"\\dfrac{".concat(null===S||void 0===S?void 0:S.str," \\enspace ").concat(null===I||void 0===I?void 0:I.str," \\enspace ").concat(null===H||void 0===H?void 0:H.str,"}{").concat(K(e,r)," : ").concat(w(I?null===I||void 0===I?void 0:I.type:[],a),"} (T-if)")+p:"\\dfrac{".concat(null===S||void 0===S?void 0:S.str," \\enspace ").concat(null===I||void 0===I?void 0:I.str," \\enspace ").concat(null===H||void 0===H?void 0:H.str,"}{").concat(K(e,r)," : ").concat(w([t],a),"} (T-if)"),I?null===I||void 0===I?void 0:I.type:[])},J=function(e,t,a,n){if(e.length<3)return a("T-BRA syntax error (#010.1)"),L(" ",[]);var r,o,c=e.slice();switch(A(c)){case 0:for(var l=0;l<c.length;l++)if("("===c[l].tokenType){r=l;break}for(var i=c.length-1;i>0;i--)if(")"===c[i].tokenType){o=i;break}void 0!==r&&void 0!==o&&(c.splice(r,1),c.splice(o-1,1));var s=G(c,t,a,!1,n);return L("\\dfrac{".concat(s?s.str:"","}{").concat(K(e,n)," : ").concat(w([t],a),"} (T-bra)"),[t]);case 1:default:return a("T-BRA syntax error (#010.2)"),L(" ",[])}},K=function(e,t){var a=t?" ":" \\vdash ";return a+=e.slice().map((function(e){return e.tokenType})).join(" \\enspace ")},Y=function(e){var t=e.isTNBL,a=e.infoHandler,o=e.errorHandler,c=Object(n.useState)([]),l=Object(i.a)(c,2),s=l[0],d=l[1],u=Object(n.useState)(" "),v=Object(i.a)(u,2),p=v[0],m=v[1],f=Object(n.useState)(),y=Object(i.a)(f,2),h=y[0],b=y[1];Object(n.useEffect)((function(){s.length>0&&g()}),[t]);var g=function(){d([]),m(" ")};return r.a.createElement("div",null,r.a.createElement("div",{style:{height:"20px"}}),r.a.createElement(C,{expression:s,setExpression:d}),r.a.createElement("div",{style:{height:"20px"}}),"Expression:",r.a.createElement("div",{style:{height:"20px"}}),r.a.createElement("div",null,r.a.createElement(j.a,{style:{width:"50%"}},r.a.createElement(S.a,{elevation:3},r.a.createElement(O.BlockMath,{math:(t?" ":" \\vdash ")+s.map((function(e){return"Nat"===e.tokenType?":Nat":"Bool"===e.tokenType?":Bool":e.tokenType})).join(" \\enspace "),errorColor:"#cc0000",renderError:function(e){return r.a.createElement("b",null,"Fail: ".concat(e.name))}})))),r.a.createElement("div",{style:{height:"20px"}}),r.a.createElement(x.a,{color:"secondary","aria-label":"outlined primary button group"},r.a.createElement(E.a,{style:{width:"110px"},onClick:function(){g()}},"CLEAR"))," ",r.a.createElement(x.a,{color:"secondary","aria-label":"outlined primary button group"},r.a.createElement(E.a,{style:{width:"110px"},onClick:function(){var e,n=$(s,o);n&&(b(null===(e=G(s.slice(0,s.length-1),n,o,!1,t))||void 0===e?void 0:e.str),a("Expression was analyzed."))}},"ANALIZE"))," ",r.a.createElement(x.a,{color:"secondary","aria-label":"outlined primary button group"},r.a.createElement(E.a,{style:{width:"110px"},onClick:function(){h&&m(h)}},"DRAW")),r.a.createElement("div",{style:{height:"20px"}}),r.a.createElement(O.BlockMath,{math:p,errorColor:"#cc0000",renderError:function(e){return r.a.createElement("b",null,"Fail: ".concat(e.name))}}))},$=function(e,t){if(e.length<2)t(void 0,"Expression type error");else switch(e[e.length-1].tokenType){case"Nat":return B("Nat");case"Bool":return B("Bool");default:return}},q=a(168),Q=a(163),X=a(158),_=a(169),ee=a(67),te=a.n(ee),ae=function(e,t,a,n,r){return{tokenType:e,varName:t,varType:a,varAbstracted:n,gammaType:r}},ne=a(146),re=a(103),oe=a(147),ce=function(e){var t=e.dialogVisability,a=e.setDialogVisability,n=e.setSelectedVarTypeValue;return r.a.createElement(h.a,{onClose:function(){a(!1)},"aria-labelledby":"simple-dialog-title",open:t,disableBackdropClick:!0,disableEscapeKeyDown:!0},r.a.createElement(b.a,{id:"simple-dialog-title"},"Please, select variable type"),r.a.createElement(ne.a,null,["Nat","Bool"].map((function(e){return r.a.createElement(re.a,{button:!0,onClick:function(){n(e)},key:e},r.a.createElement(oe.a,{primary:e}))}))))},le=a(149),ie=a(153),se=a(152),de=a(148),ue=a(150),ve=a(151),pe=[{id:"name",label:"Variable name",minWidth:100},{id:"type",label:"Variable type",minWidth:100}],me=Object(s.a)({root:{width:"100%"},container:{maxHeight:200}}),fe=function(e){var t=e.data,a=me();return r.a.createElement(S.a,{style:{height:200}},r.a.createElement(de.a,{className:a.container},r.a.createElement(le.a,{stickyHeader:!0,"aria-label":"sticky table",size:"small"},r.a.createElement(ue.a,null,r.a.createElement(ve.a,null,pe.map((function(e){return r.a.createElement(se.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(ie.a,null,t.map((function(e){return r.a.createElement(ve.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e.varName},r.a.createElement(se.a,{key:"varName"+e.varName},e.varName),r.a.createElement(se.a,{key:"varType"+e.varType},e.varType))}))))))};function ye(e){return r.a.createElement(te.a,{handle:"#draggable-dialog-title",cancel:'[class*="MuiDialogContent-root"]'},r.a.createElement(S.a,e))}var Ee=function(e){var t=e.title,a=e.setT,o=e.setVars,c=e.enabled,s=e.setFormula,d=e.varGenerator,u=e.vars,v=r.a.useState(!1),p=Object(i.a)(v,2),m=p[0],f=p[1],y=Object(n.useState)([]),T=Object(i.a)(y,2),N=T[0],C=T[1],B=Object(n.useState)(u?Object(l.a)(u):[]),w=Object(i.a)(B,2),L=w[0],I=w[1],H=Object(n.useState)(!1),F=Object(i.a)(H,2),A=F[0],R=F[1],z=Object(n.useState)(),G=Object(i.a)(z,2),M=G[0],V=G[1],D=function(){f(!1),P()},W=function(e){C([].concat(Object(l.a)(N),[e]))},P=function(){C([]),I([])};return Object(n.useEffect)((function(){if(A){R(!1);var e=d.next();if(e.value&&M){var t=ae("var",e.value,M,!1);I([].concat(Object(l.a)(L),[t])),W(t),V(void 0)}}}),[M]),Object(n.useEffect)((function(){u&&I(Object(l.a)(u))}),[u]),r.a.createElement("div",null,r.a.createElement(E.a,{disabled:!c,variant:"outlined",color:"primary",onClick:function(){f(!0)}},t),r.a.createElement(h.a,{open:m,onClose:D,PaperComponent:ye,"aria-labelledby":"draggable-dialog-title"},r.a.createElement(b.a,{style:{cursor:"move"},id:"draggable-dialog-title"},"Please, input ".concat(t,":")),r.a.createElement(g.a,null,r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(j.a,{disabled:!0,style:{width:"100%"}},r.a.createElement(S.a,{elevation:3,style:{width:"100%"}},r.a.createElement(O.BlockMath,{math:" "+N.map((function(e){return"var"===e.tokenType?e.varName:e.tokenType})).join(" \\enspace "),errorColor:"#cc0000",renderError:function(e){return r.a.createElement("b",null,"Fail: ".concat(e.name))}}))),r.a.createElement("div",{style:{height:"20px"}}),r.a.createElement("div",null,r.a.createElement(x.a,{color:"primary","aria-label":"outlined primary button group"},r.a.createElement(E.a,{disabled:he(!1,N),style:{width:"110px"},onClick:function(e){W(ae(!0))}},"TRUE"),r.a.createElement(E.a,{disabled:he(!1,N),style:{width:"110px"},onClick:function(e){W(ae(!1))}},"FALSE"),r.a.createElement(E.a,{disabled:he(!1,N),style:{width:"110px"},onClick:function(e){W(ae("succ"))}},"SUCC"),r.a.createElement(E.a,{disabled:he(!1,N),style:{width:"110px"},onClick:function(e){W(ae("pred"))}},"PRED")),r.a.createElement("br",null),r.a.createElement(x.a,{color:"primary","aria-label":"outlined primary button group"},r.a.createElement(E.a,{disabled:he(!1,N),style:{width:"110px"},onClick:function(e){W(ae("if"))}},"IF"),r.a.createElement(E.a,{disabled:he(!1,N),style:{width:"110px"},onClick:function(e){W(ae("then"))}},"THEN"),r.a.createElement(E.a,{disabled:he(!1,N),style:{width:"110px"},onClick:function(e){W(ae("else"))}},"ELSE"),r.a.createElement(E.a,{disabled:he(!1,N),style:{width:"110px"},onClick:function(e){W(ae("iszero"))}},"ISZERO")),r.a.createElement("br",null),r.a.createElement(x.a,{color:"primary","aria-label":"outlined primary button group"},r.a.createElement(E.a,{disabled:he(!1,N),style:{width:"110px"},onClick:function(e){W(ae(0))}},"0"),r.a.createElement(E.a,{disabled:he(!1,N),style:{width:"110px"},onClick:function(e){W(ae("("))}},"("),r.a.createElement(E.a,{disabled:he(!1,N),style:{width:"110px"},onClick:function(e){W(ae(")"))}},")"),r.a.createElement(E.a,{disabled:he(!0,N),style:{width:"110px"},onClick:function(e){W(ae("f"))}},"f")),r.a.createElement("br",null),r.a.createElement(x.a,{color:"primary","aria-label":"outlined primary button group"},r.a.createElement(E.a,{disabled:he(!1,N)||N.length>0&&"var"===N[N.length-1].tokenType,style:{width:"110px"},onClick:function(e){R(!0)}},"new Var"),be(L,N,C),r.a.createElement(E.a,{style:{width:"110px",color:"red"},onClick:function(e){"var"===N[N.length-1].tokenType&&I(L.slice(0,L.length-1)),C(Object(l.a)(N.slice(0,N.length-1)))}},"Backspace"),r.a.createElement(E.a,{style:{width:"110px",color:"red"},onClick:function(e){P()}},"Clear"))),r.a.createElement("div",{style:{height:"20px"}}),r.a.createElement(fe,{data:L}))),r.a.createElement(k.a,null,r.a.createElement(E.a,{autoFocus:!0,onClick:D,color:"secondary"},"Cancel"),r.a.createElement(E.a,{onClick:function(){a(Object(l.a)(N)),o(Object(l.a)(L)),s(void 0),D()},color:"primary"},"Ok"))),r.a.createElement(ce,{dialogVisability:A,setDialogVisability:R,setSelectedVarTypeValue:V}))},he=function(e,t){if(e){if(0===t.length)return!1}else{if(0===t.length)return!1;if(t.length>0&&"f"!==t[0].tokenType)return!1}return!0},be=function(e,t,a){return r.a.createElement(j.a,null,r.a.createElement(Q.a,{disabled:0===e.length||t.length>0&&"var"===t[t.length-1].tokenType,style:{minWidth:"110px",maxHeight:"40px"},labelId:"demo-simple-select-outlined-label",id:"varType",value:"",onChange:function(n){var r=e.find((function(e){return e.varName===n.target.value}));r&&a([].concat(Object(l.a)(t),[r]))}},e.map((function(e){return r.a.createElement(X.a,{value:e.varName,key:e.varName},r.a.createElement(O.InlineMath,{math:e.varName}))}))))},ge=function(e,t){return{id:e,type:t}},Te=function(e,t,a,n,r,o){if(n){if(ze(e)||t&&ze(t)){var c=xe(e,t,a,n,r);return c.str=""+c.str,c}if(t&&e.length>0&&t.length>0){var l=ke(e,t,a,n,r);return l.str=""+l.str,l}switch(e[0].tokenType){case!0:return je(e,n,r);case!1:return Se(e,n,r);case"var":return Ne(e,n,r);case"(":var i=He(e,a,n,r);return i.str=""+i.str,i;case"iszero":var s=Ce(e,a,n,r);return s.str=""+s.str,s;case 0:return Oe(e,n,r);case"succ":var d=Be(e,a,n,r);return d.str=""+d.str,d;case"pred":var u=we(e,a,n,r);return u.str=""+u.str,u;case"if":var v=Le(e,a,n,r,o);return v.str=""+v.str,v;case"f":if(a)return Ie(e,n,a,r)}r("Undefined error (#001.2)")}else r("Expression type error (#001.1)")},ke=function(e,t,a,n,r){var o=Te(t,void 0,a,n,r,!1),c=Te(e,void 0,a,o?[o.type[0]].concat(n):n,r,!1);return e.length>0?L("\\dfrac{".concat(null===c||void 0===c?void 0:c.str," \\enspace ").concat(null===o||void 0===o?void 0:o.str,"} {").concat(Fe(e,t)," : ").concat(w(n,r),"} (T-app)"),[]):(r("T-app error (#002)"),L(" ",[]))},xe=function(e,t,a,n,r){if(n.length<2)return r("Expression type error (#003.1)"),L(" ",[]);var o=Fe(e,t);if(t){var c=Ae(e),l=Ae(t),i=!0;if(c&&(Re(e,c,n),i=!1),l&&(Re(t,l,n),i=!1),i)return r("T-abs type error (#003.2)"),L(" ",[])}else{var s=Ae(e);if(!s)return r("T-abs type error (#003.3)"),L(" ",[]);Re(e,s,n)}var d=Te(e,t,a,n.slice(1),r,!1);return L("\\dfrac{".concat(null===d||void 0===d?void 0:d.str,"}{").concat(o," : ").concat(w(n,r),"} (T-abs)"),d?d.type:[])},Ne=function(e,t,a){return 1===t.length&&t[0].type===e[0].varType?e[0].varType===e[0].gammaType?L("\\dfrac{".concat(e[0].varName," : ").concat(e[0].gammaType," \\in \\Gamma}{\\Gamma \\vdash ").concat(e[0].varName," : ").concat(e[0].varType,"} (T-var)"),[B(e[0].varType)]):L("\\dfrac{".concat(v," ").concat(e[0].varName," : ").concat(e[0].gammaType," \\in \\Gamma ").concat(p,"}{\\Gamma \\vdash ").concat(e[0].varName," : ").concat(e[0].varType,"} (T-var)"),[B(e[0].varType)]):e[0].varType?L("".concat(v," \\dfrac{").concat(e[0].varName," : ").concat(e[0].gammaType," \\in \\Gamma}{\\Gamma \\vdash ").concat(e[0].varName," : ").concat(e[0].varType,"} (T-var) ").concat(p),[B(e[0].varType)]):(a("T-VAR error (#004)"),L(" ",[]))},Ce=function(e,t,a,n){if(e.length<2)return n("IS-ZERO argument error (#005)"),L(" ",[]);var r=Te(e.slice(1),void 0,t,[B("Nat")],n,!1);return 1===a.length?"Bool"===a[0].type?L("\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(Fe(e,void 0)," : ").concat(w(a,n),"} (T-iszero)"),a):L(v+"\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(Fe(e,void 0)," : ").concat(w(a,n),"} (T-iszero)")+p,a):0===a.length&&1===(null===r||void 0===r?void 0:r.type.length)?"Nat"===(null===r||void 0===r?void 0:r.type[0].type)?L("\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(Fe(e,void 0)," : ").concat(w([B("Bool")],n),"} (T-iszero)"),[B("Bool")]):L(v+"\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(Fe(e,void 0)," : ").concat(w([B("Bool")],n),"} (T-iszero)")+p,[B("Bool")]):L(v+"\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(Fe(e,void 0)," : ").concat(w(a,n),"} (T-iszero)")+p,a)},Oe=function(e,t,a){return 1===t.length&&"Nat"===t[0].type||0===t.length?L("\\dfrac{}{".concat(Fe(e,void 0)," : ").concat(w([B("Nat")],a),"} (T-zero)"),[B("Nat")]):L(v+"\\dfrac{}{".concat(Fe(e,void 0)," : ").concat(w([B("Nat")],a),"} (T-zero)")+p,[B("Nat")])},je=function(e,t,a){return 1===t.length&&"Bool"===t[0].type?L("\\dfrac{}{".concat(Fe(e,void 0)," : ").concat(w(t,a),"} (T-true)"),[B("Bool")]):0===t.length?L("\\dfrac{}{".concat(Fe(e,void 0)," :Bool} (T-true)"),[B("Bool")]):L(v+"\\dfrac{}{".concat(Fe(e,void 0)," : ").concat(w(t,a),"} (T-true)")+p,[B("Bool")])},Se=function(e,t,a){return 1===t.length&&"Bool"===t[0].type?L("\\dfrac{}{".concat(Fe(e,void 0)," : ").concat(w(t,a),"} (T-false)"),[B("Bool")]):0===t.length?L("\\dfrac{}{".concat(Fe(e,void 0)," :Bool} (T-false)"),[B("Bool")]):L(v+"\\dfrac{}{".concat(Fe(e,void 0)," : ").concat(w(t,a),"} (T-false)")+p,[B("Bool")])},Be=function(e,t,a,n){if(e.length<2)return n("SUCC argument error (#006)"),L(" ",[]);var r=Te(e.slice(1),void 0,t,a,n,!0);return 1===a.length?"Nat"===a[0].type?L("\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(Fe(e,void 0)," : ").concat(w(a,n),"} (T-succ)"),a):L(v+"\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(Fe(e,void 0)," : ").concat(w(a,n),"} (T-succ)")+p,a):0===a.length&&1===(null===r||void 0===r?void 0:r.type.length)?"Nat"===(null===r||void 0===r?void 0:r.type[0].type)?L("\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(Fe(e,void 0)," : ").concat(w([null===r||void 0===r?void 0:r.type[0]],n),"} (T-succ)"),[null===r||void 0===r?void 0:r.type[0]]):L(v+"\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(Fe(e,void 0)," : ").concat(w([null===r||void 0===r?void 0:r.type[0]],n),"} (T-succ)")+p,[null===r||void 0===r?void 0:r.type[0]]):L(v+"\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(Fe(e,void 0)," : ").concat(w(a,n),"} (T-succ)")+p,a)},we=function(e,t,a,n){if(e.length<2)return n("PRED argument error (#007)"),L(" ",[]);var r=Te(e.slice(1),void 0,t,a,n,!0);return 1===a.length?"Nat"===a[0].type?L("\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(Fe(e,void 0)," : ").concat(w(a,n),"} (T-pred)"),a):L(v+"\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(Fe(e,void 0)," : ").concat(w(a,n),"} (T-pred)")+p,a):0===a.length&&1===(null===r||void 0===r?void 0:r.type.length)?"Nat"===(null===r||void 0===r?void 0:r.type[0].type)?L("\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(Fe(e,void 0)," : ").concat(w([null===r||void 0===r?void 0:r.type[0]],n),"} (T-pred)"),[null===r||void 0===r?void 0:r.type[0]]):L(v+"\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(Fe(e,void 0)," : ").concat(w([null===r||void 0===r?void 0:r.type[0]],n),"} (T-pred)")+p,[null===r||void 0===r?void 0:r.type[0]]):L(v+"\\dfrac{".concat(null===r||void 0===r?void 0:r.str,"}{").concat(Fe(e,void 0)," : ").concat(w(a,n),"} (T-pred)")+p,a)},Le=function(e,t,a,n,r){var o,c,l=[],i=[],s=[],d=0,u=void 0,m=void 0,f=void 0;if(0===e.length)return n("IF-THEN-ELSE syntax error (#008.1)"),L(" ",[]);var y="if"!==e[0].tokenType||!r||1!==a.length||a[0]!==B("Nat"),E="if"===e[0].tokenType?e.slice(1):e.slice(0);for(d=0;d<E.length;d++)if("then"!==E[d].tokenType&&"if"!==E[d].tokenType){if(l.push(E[d]),d===E.length-1)return n("IF-THEN-ELSE syntax error. Expression has one or more errors. One of them - THEN clause is missing (#008.2)"+JSON.stringify(E)),L(" ",[])}else{if("then"===E[d].tokenType){if(d===E.length-1)return n("IF-THEN-ELSE syntax error. Expression has one or more errors. One of them - THEN clause is missing (#008.3)"),L(" ",[]);E.shift();break}if("if"===E[d].tokenType){var h=E.slice(d,E.length),b=R(h,ae("then"));E=h.slice(b+1,h.length);var g=l.concat(h.slice(0,b));u=Te(g,void 0,t,[B("Bool")],n,!0),d=0;break}}for(o=d;o<E.length;o++)if("else"!==E[o].tokenType&&"if"!==E[o].tokenType){if(i.push(E[o]),o===E.length-1)return n("IF-THEN-ELSE syntax error. Expression has one or more errors. One of them - ELSE clause is missing (#008.4)"),L(" ",[])}else{if("else"===E[o].tokenType){if(o===E.length-1)return n("IF-THEN-ELSE syntax error. Expression has one or more errors. One of them - ELSE clause is missing (#008.5)"),L(" ",[]);E.shift();break}if("if"===E[o].tokenType){var T=E.slice(o,E.length),k=R(T,ae("else"));E=T.slice(k+1,T.length);var x=i.concat(T.slice(o-1,k));m=Te(x,void 0,t,a,n,!0),o=0;break}}for(c=o;c<E.length;c++)if("if"!==E[c].tokenType)s.push(E[c]);else if("if"===E[c].tokenType){var N=E.slice(c,E.length);E=N.slice(0,N.length);var C=s.concat(N.slice(c-1,N.length));f=Te(C,void 0,t,a,n,!0),c=0;break}var O=void 0===u?Te(l,void 0,t,[B("Bool")],n,!1):u,j=void 0===m?Te(i,void 0,t,a,n,!1):m,S=void 0===f?Te(s,void 0,t,a,n,!1):f;return(null===j||void 0===j?void 0:j.type[0].type)!==(null===S||void 0===S?void 0:S.type[0].type)?(n("IF-THEN-ELSE syntax error. Expression has one or more errors. One of them - THEN and ELSE branches don't have the same type (#008.6)"),L(" ",[])):L(r?y?"\\dfrac{".concat(null===O||void 0===O?void 0:O.str," \\enspace ").concat(null===j||void 0===j?void 0:j.str," \\enspace ").concat(null===S||void 0===S?void 0:S.str,"}{").concat(Fe(e,void 0)," : ").concat(w(j?null===j||void 0===j?void 0:j.type:[],n),"} (T-if)"):v+"\\dfrac{".concat(null===O||void 0===O?void 0:O.str," \\enspace ").concat(null===j||void 0===j?void 0:j.str," \\enspace ").concat(null===S||void 0===S?void 0:S.str,"}{").concat(Fe(e,void 0)," : ").concat(w(j?null===j||void 0===j?void 0:j.type:[],n),"} (T-if)")+p:"\\dfrac{".concat(null===O||void 0===O?void 0:O.str," \\enspace ").concat(null===j||void 0===j?void 0:j.str," \\enspace ").concat(null===S||void 0===S?void 0:S.str,"}{").concat(Fe(e,void 0)," : ").concat(w(a.length>0?a:j?null===j||void 0===j?void 0:j.type:[],n),"} (T-if)"),j?null===j||void 0===j?void 0:j.type:[])},Ie=function(e,t,a,n){return e.length>1?(n("Syntax error. Expression has one or more errors. (#009)"),L(" ",[])):2===t.length&&t[0].type===a[0].type&&t[1].type===a[1].type?L("\\dfrac{".concat(e[0].tokenType," : ").concat(w(t,n)," \\in \\Gamma}{\\Gamma \\vdash ").concat(e[0].tokenType," : ").concat(w(t,n),"} (T-var)"),[]):L(v+"\\dfrac{".concat(e[0].tokenType," : ").concat(w(t,n)," \\in \\Gamma}{\\Gamma \\vdash ").concat(e[0].tokenType," : ").concat(w(t,n),"} (T-var)")+p,[])},He=function(e,t,a,n){if(e.length<3)return n("T-() syntax error (#010.1)"),L(" ",[]);var r,o,c=e.slice();switch(A(c)){case 0:for(var l=0;l<c.length;l++)if("("===c[l].tokenType){r=l;break}for(var i=c.length-1;i>0;i--)if(")"===c[i].tokenType){o=i;break}void 0!==r&&void 0!==o&&(c.splice(r,1),c.splice(o-1,1));var s=Te(c,void 0,t,a,n,!1);return a.length>0?L("\\dfrac{".concat(s?s.str:"","}{").concat(Fe(e,void 0)," : ").concat(w(a,n),"} (T-())"),a):L("\\dfrac{".concat(s?s.str:"","}{").concat(Fe(e,void 0)," : ").concat(s?w(s?s.type:[],n):"UNDEFINED TYPE","} (T-())"),s?s.type:[]);case 1:default:return n("T-() syntax error (#010.2)"),L(" ",[])}},Fe=function(e,t){var a=t?e.concat(t):e.slice(),n=[],r=" \\Gamma \\vdash ",o="";return a.forEach((function(e){"var"===e.tokenType&&!e.varAbstracted&&e.varName&&e.varType&&!n.find((function(t){return t.varName===e.varName}))&&(r+=" \\lambda ".concat(e.varName,":").concat(e.varType,". "),n.push(e))})),a.forEach((function(e){"var"===e.tokenType?o+=" \\enspace "+e.varName:o+=" \\enspace "+e.tokenType})),r+o},Ae=function(e){return e.find((function(e){return"var"===e.tokenType&&!1===e.varAbstracted}))},Re=function(e,t,a){e.forEach((function(e){"var"===e.tokenType&&e.varName===t.varName&&(e.varAbstracted=!0,e.gammaType=a[0].type)}))},ze=function(e){var t=0;e.forEach((function(e,a){"("!==e.tokenType||(t=a)}));for(var a=t;a<e.length;a++)if("var"===e[a].tokenType&&!e[a].varAbstracted)return!0;return!1},Ge=(a(99),function(e){var t=e.infoHandler,a=e.errorHandler,o=e.errorMessages,c=Object(n.useState)([]),l=Object(i.a)(c,2),s=l[0],d=l[1],u=Object(n.useState)(" "),v=Object(i.a)(u,2),p=v[0],m=v[1],f=Object(n.useState)(),y=Object(i.a)(f,2),h=y[0],b=y[1],g=Object(n.useState)(),T=Object(i.a)(g,2),k=T[0],N=T[1],C=Object(n.useState)(),S=Object(i.a)(C,2),L=S[0],I=S[1],H=Object(n.useState)([]),F=Object(i.a)(H,2),A=F[0],R=F[1],G=Object(n.useState)([]),M=Object(i.a)(G,2),V=M[0],D=M[1],W=Object(n.useState)([]),P=Object(i.a)(W,2),U=P[0],Z=P[1],J=Object(n.useState)(!1),K=Object(i.a)(J,2),Y=K[0],$=K[1],ee=Object(n.useState)([ge(0,[B("Nat"),B("Bool")]),ge(1,[B("Nat"),B("Nat")]),ge(2,[B("Bool"),B("Nat")]),ge(3,[B("Bool"),B("Bool")])]),te=Object(i.a)(ee,1)[0],ae=Object(n.useState)([ge(0,[B("Nat")]),ge(1,[B("Bool")])]),ne=Object(i.a)(ae,1)[0],re=Object(n.useState)(z()),oe=Object(i.a)(re,2),ce=oe[0];oe[1];Object(n.useEffect)((function(){V.length>0?d(A.concat(V).slice()):d(A.slice())}),[A,V]),Object(n.useEffect)((function(){s.find((function(e){return"f"===e.tokenType}))?$(!0):$(!1)}),[s]),Object(n.useEffect)((function(){b("")}),[o]);return r.a.createElement("div",null,"Expression:",r.a.createElement("div",{style:{height:"20px"}}),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(j.a,{variant:"outlined"},r.a.createElement(q.a,{htmlFor:"outlined-age-native-simple"},r.a.createElement(O.InlineMath,{math:"f: type \\to type "})),r.a.createElement(Q.a,{disabled:!Y,style:{minWidth:"150px"},labelId:"demo-simple-select-outlined-label",id:"varType",value:k?k.id:"",onChange:function(e){N(te.find((function(t){return t.id===e.target.value}))),b(void 0)}},te.map((function(e){return r.a.createElement(X.a,{value:e.id,key:e.id},r.a.createElement(O.InlineMath,{math:"f: "+w(e.type,a)}))})))),r.a.createElement(_.a,{disabled:!0,style:{width:"36px"},id:"outlined-basic",variant:"outlined",label:r.a.createElement(O.InlineMath,{math:"\\vdash"})}),r.a.createElement(_.a,{disabled:!0,style:{width:"650px"},id:"outlined-basic",variant:"outlined",label:r.a.createElement(O.InlineMath,{math:Me(s,U)})}),De(L,I,b,ne,a)),r.a.createElement("div",{style:{height:"20px"}}),r.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},r.a.createElement(Ee,{title:"t1",setT:R,enabled:!0,setVars:Z,setFormula:b,varGenerator:ce}),r.a.createElement(Ee,{title:"t2",setT:D,enabled:!!A.find((function(e){return"f"===e.tokenType})),setVars:Z,setFormula:b,varGenerator:ce,vars:U})),r.a.createElement("div",{style:{height:"20px"}}),r.a.createElement("div",null,r.a.createElement(x.a,{color:"secondary","aria-label":"outlined primary button group"},r.a.createElement(E.a,{style:{width:"110px"},onClick:function(){d([]),m(" "),R([]),D([]),Z([]),b(void 0),N(void 0),I(void 0)}},"CLEAR"))," ",r.a.createElement(x.a,{color:"secondary","aria-label":"outlined primary button group"},r.a.createElement(E.a,{disabled:Ve(A,V,k,L),style:{width:"110px"},onClick:function(){var e;L?(b(null===(e=Te(We(A),We(V),null===k||void 0===k?void 0:k.type,L,a,!1))||void 0===e?void 0:e.str),t("Expression was analyzed.")):a("Please select expression type.")}},"ANALIZE"))," ",r.a.createElement(x.a,{color:"secondary","aria-label":"outlined primary button group"},r.a.createElement(E.a,{disabled:!h||0===h.length,style:{width:"110px"},onClick:function(){h&&m(h)}},"DRAW"))),r.a.createElement("div",{style:{height:"20px"}}),r.a.createElement(O.BlockMath,{math:p,errorColor:"#cc0000",renderError:function(e){return r.a.createElement("b",null,"Fail: ".concat(e.name))},className:"katex"}))}),Me=function(e,t){var a=e.slice(),n=" ";return t.length>0&&(n+=t.map((function(e){return"\\lambda ".concat(e.varName,":").concat(e.varType,".")})).join("")),n+=a.map((function(e){return"var"===e.tokenType?e.varName:e.tokenType})).join(" \\enspace ")},Ve=function(e,t,a,n){return!(n&&e.length>0&&n.length>0)||!(!e.find((function(e){return"f"===e.tokenType}))&&!t.find((function(e){return"f"===e.tokenType})))&&!a},De=function(e,t,a,n,o){var c=":"+(void 0!==e?w(e,o):"");return r.a.createElement("div",null,r.a.createElement(_.a,{disabled:!0,style:{width:"300px"},id:"outlined-basic",variant:"outlined",label:r.a.createElement(O.InlineMath,{math:c})}),r.a.createElement(j.a,{variant:"outlined"},r.a.createElement(q.a,{htmlFor:"outlined-age-native-simple"},r.a.createElement(O.InlineMath,{math:"add"})),r.a.createElement(Q.a,{style:{minWidth:"80px"},labelId:"demo-simple-select-outlined-label",id:"varType",value:"",onChange:function(r){var o,c=null===(o=n.find((function(e){return e.id===r.target.value})))||void 0===o?void 0:o.type;e&&c?t([].concat(Object(l.a)(e),Object(l.a)(c))):c&&t(Object(l.a)(c)),a(void 0)}},n.map((function(e){return r.a.createElement(X.a,{value:e.id,key:e.id},r.a.createElement(O.InlineMath,{math:":"+w(e.type,o)}))})))))},We=function(e){return e.map((function(e){return ae(e.tokenType,e.varName,e.varType,e.varAbstracted)}))},Pe=function(e){var t=u(),a=Object(n.useState)([]),o=Object(i.a)(a,2),c=o[0],s=o[1],d=Object(n.useState)([]),v=Object(i.a)(d,2),p=v[0],x=v[1],N=Object(n.useCallback)((function(e){s((function(t){return[e].concat(Object(l.a)(t))}))}),[]),C=Object(n.useCallback)((function(e){x((function(t){return[e].concat(Object(l.a)(t))}))}),[]),O=Object(n.useCallback)((function(){return s([])}),[]),j=Object(n.useCallback)((function(){x([]),s([])}),[]),S=Object(n.useState)("STLC 1"),B=Object(i.a)(S,2),w=B[0],L=B[1],I=function(e){L(e)};return r.a.createElement("div",{className:t.root},r.a.createElement("div",{className:t.root},r.a.createElement(m.a,{position:"static"},r.a.createElement(f.a,null,r.a.createElement(y.a,{container:!0,direction:"row",spacing:2,justify:"center",alignItems:"center"},r.a.createElement(y.a,{item:!0},r.a.createElement(E.a,{variant:"contained",className:"STLC 1"===w?t.menuButtonSelected:t.menuButton,onClick:function(){I("STLC 1")}},"STLC 1")),r.a.createElement(y.a,{item:!0},r.a.createElement(E.a,{variant:"contained",className:"STLC 2"===w?t.menuButtonSelected:t.menuButton,onClick:function(){I("STLC 2")}},"STLC 2")),r.a.createElement(y.a,{item:!0},r.a.createElement(E.a,{variant:"contained",className:"T-NBL"===w?t.menuButtonSelected:t.menuButton,onClick:function(){I("T-NBL")}},"T-NBL")))))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"App"},Ue(w,N,C,p),r.a.createElement(h.a,{open:p.length>0,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(b.a,{id:"alert-dialog-title"},"Error"),r.a.createElement(g.a,null,r.a.createElement(T.a,{id:"alert-dialog-description"},p.map((function(e){return r.a.createElement("div",{key:e},e)})))),r.a.createElement(k.a,null,r.a.createElement(E.a,{onClick:j,color:"primary"},"Close"))),r.a.createElement(h.a,{open:0===p.length&&c.length>0,onClose:function(){},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(b.a,{id:"alert-dialog-title"},"Info"),r.a.createElement(g.a,null,r.a.createElement(T.a,{id:"alert-dialog-description"},c.map((function(e){return r.a.createElement("div",{key:e},e)})))),r.a.createElement(k.a,null,r.a.createElement(E.a,{onClick:O,color:"primary"},"Close")))))},Ue=function(e,t,a,n){switch(e){case"T-NBL":return r.a.createElement(Y,{infoHandler:t,errorHandler:a,isTNBL:!0});case"STLC 2":return r.a.createElement(Y,{infoHandler:t,errorHandler:a,isTNBL:!1});case"STLC 1":default:return r.a.createElement(Ge,{infoHandler:t,errorHandler:a,errorMessages:n})}};var Ze=function(){return r.a.createElement(Pe,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ze,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e,t,a){e.exports=a(100)},88:function(e,t,a){},89:function(e,t,a){},99:function(e,t,a){}},[[83,1,2]]]);
//# sourceMappingURL=main.98f61a91.chunk.js.map